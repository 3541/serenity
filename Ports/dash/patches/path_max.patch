diff -Nru dash-0.5.10/src/cd.c dash-0.5.10_port/src/cd.c
--- dash-0.5.10/src/cd.c	2014-10-27 14:35:09.000000000 +1100
+++ dash-0.5.10_port/src/cd.c	2020-02-22 13:00:46.794968709 +1100
@@ -272,7 +272,7 @@
 	if (dir)
 		return dir;
 #else
-	char buf[PATH_MAX];
+	char buf[4096];
 
 	if (getcwd(buf, sizeof(buf)))
 		return savestr(buf);
diff -Nru dash-0.5.10/src/expand.c dash-0.5.10_port/src/expand.c
--- dash-0.5.10/src/expand.c	2018-04-19 20:19:29.000000000 +1000
+++ dash-0.5.10_port/src/expand.c	2020-02-22 13:00:31.183967851 +1100
@@ -1272,7 +1272,7 @@
 		INTOFF;
 		p = preglob(str->text, RMESCAPE_ALLOC | RMESCAPE_HEAP);
 		len = strlen(p);
-		expdir_max = len + PATH_MAX;
+		expdir_max = len + 4096;
 		expdir = ckmalloc(expdir_max);
 
 		expmeta(p, len, 0);
@@ -1407,9 +1407,9 @@
 				*p = '/';
 
 				offset = p - expdir + 1;
-				len = offset + name_len + NAME_MAX;
+				len = offset + name_len + 255;
 				if (len > expdir_max) {
-					len += PATH_MAX;
+					len += 4096;
 					expdir = ckrealloc(expdir, len);
 					expdir_max = len;
 				}
